/**
 * The Hatchd Eggbox icon-font set
 *
 * Generated by grunt-webfont
 */

<% if (fontfaceStyles) { %>
    @font-face {
        font-family:"<%= fontBaseName %>";<% if (fontSrc1) { %>
        src:<%= fontSrc1 %>;<% }%>
        src:<%= fontSrc2 %>;
        font-weight:normal;
        font-style:normal;
    }
<% } %>

<% if (iconsStyles && stylesheet === 'scss') { %>

    $eggboxicons: (
    <% for (var glyphIdx = 0; glyphIdx < glyphs.length; glyphIdx++) { %>
        '<%= glyphs[glyphIdx] %>' : '<% if (addLigatures) { %><%= glyphs[glyphIdx] %><% } else { %>\<%= codepoints[glyphIdx] %><% } %>',
    <% } %>
    );

    @function match($haystack, $needle) {
        @each $item in $haystack {
            $index: index($item, $needle);
            @if $index {
                $return: if($index == 1, 2, $index);
                @return nth($item, $return);
            }
        }
        @return false;
    }

    @mixin eggbox($icon: false, $position: before, $styles: styles ) {
        &:#{$position} {
            @if $icon {
                content: match($eggboxicons, $icon);
            }
            @if $styles != nostyles{
                font-family:"<%= fontBaseName %>";
                display:inline-block;
                font-weight:normal;
                font-style:normal;
                speak:none;
                text-decoration:inherit;
                text-transform:none;
                -webkit-font-smoothing:antialiased;
                -moz-osx-font-smoothing:grayscale;
            }
        }
    }

/**
 * Fallbacks for browsers that don't support
 * @font-face and generated content
 *
 * Set fallback variables in settings.less
 */
    @mixin eggbox-fallback($icon: false, $colour: $black, $size: "16x16", $styles: styles){
        background-image:url("#{$eggbox-imagepath}/#{nth($icon,1)}-#{$size}-#{$colour}.png");
        @if $styles != nostyles{
            background-position:center left;
            background-repeat:no-repeat;
        }
    }

<% } %>

<% if (iconsStyles && stylesheet === 'less') { %>

        #eggbox{
            <% for (var glyphIdx = 0; glyphIdx < glyphs.length; glyphIdx++) { %>
                .<%= glyphs[glyphIdx] %>(@pos:before) when(@pos = before){
                    &:before {
                        content:"<% if (addLigatures) { %><%= glyphs[glyphIdx] %><% } else { %>\<%= codepoints[glyphIdx] %><% } %>";
                        font-family:"<%= fontBaseName %>";
                        display:inline-block;
                        font-weight:normal;
                        font-style:normal;
                        speak:none;
                        text-decoration:inherit;
                        text-transform:none;
                        -webkit-font-smoothing:antialiased;
                        -moz-osx-font-smoothing:grayscale;
                    }
                }
                .<%= glyphs[glyphIdx] %>(@pos) when(@pos = after){
                    &:after {
                        content:"<% if (addLigatures) { %><%= glyphs[glyphIdx] %><% } else { %>\<%= codepoints[glyphIdx] %><% } %>";
                        font-family:"<%= fontBaseName %>";
                        display:inline-block;
                        font-weight:normal;
                        font-style:normal;
                        speak:none;
                        text-decoration:inherit;
                        text-transform:none;
                        -webkit-font-smoothing:antialiased;
                        -moz-osx-font-smoothing:grayscale;
                    }
                }
            <% } %>
        }

    /**
     * Fallbacks for browsers that don't support
     * @font-face and generated content
     *
     * Set fallback variables in settings.less
     */
        #eggbox-fallback{
            <% for (var glyphIdx = 0; glyphIdx < glyphs.length; glyphIdx++) { %>
                    .<%= glyphs[glyphIdx] %>(@colour:@eggbox-col--default,@size:@eggbox-size){
                        background-image:url("@{eggbox-imagepath}/png/<%= glyphs[glyphIdx] %>-@{size}-@{colour}.png");
                    }
            <% } %>
        }

<% } %>

<% if (iconsStyles && stylesheet === 'css') { %>

    /**
     * CSS classes
     */

    [class^="eggbox-"]{
        font-family:"<%= fontBaseName %>";
        display:inline-block;
        font-weight:normal;
        font-style:normal;
        speak:none;
        text-decoration:inherit;
        text-transform:none;
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
    }
    <% for (var glyphIdx = 0; glyphIdx < glyphs.length; glyphIdx++) { %>
        .eggbox-<%= glyphs[glyphIdx] %>:before {
            content:"<% if (addLigatures) { %><%= glyphs[glyphIdx] %><% } else { %>\<%= codepoints[glyphIdx] %><% } %>";
        }
    <% } %>
<% } %>
